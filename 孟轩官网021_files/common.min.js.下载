function setMenuTitle(){var r,i,t,n,u;if($("#menu").length>0)for(r=$("#menu")[0].children,i=0;i<r.length;i++)for(t=$(r[i].children[1]).find("a"),n=0;n<t.length;n++)u=$(t[n]).attr("title"),ys.isNullOrEmpty(u)&&$(t[n]).attr("title",$(t[n]).text())}function sidebarMenuSelected(){var r,t,e,n;if($("#menu").length>0){var i=[],f=!1,u=$("#menu")[0].children;for(r=0;r<u.length;r++){for(t=$(u[r].children[1]).find("a"),e=!1,n=0;n<t.length;n++)t[n].pathname.toLowerCase()==location.pathname.toLowerCase()&&(i.push(t[n]),t[n].search.toLowerCase()!=location.search.toLowerCase()||f||(e=!0,f=!0,$(t[n].parentElement).addClass("active"),t[n].parentElement.parentElement.parentElement.scrollIntoView()));e?$(u[r].children[1]).addClass("app-sub-sidebar"):$(u[r].children[1]).toggle()}f||i.length>0&&($(i[0].parentElement).addClass("active"),$(i[0].parentElement.parentElement).addClass("app-sub-sidebar"),$(i[0].parentElement.parentElement).show(),i[0].parentElement.parentElement.parentElement.scrollIntoView())}$("body").find(".sidebar-toggle").click(function(n){n.stopPropagation();$("body").toggleClass("close")})}function showChildMenu(n){var t=$(n).next();return t.css("display")=="none"?(t.addClass("app-sub-sidebar"),t.show()):(t.removeClass("app-sub-sidebar"),t.hide()),!1}function md5Password(n){return md5(n+"toolhelper.cn")}function searchMenuLocal(n){var i,t;if(n=n.toLowerCase(),i=[],menu_list.length>0){for(t in menu_list)menu_list[t].ValueLowerCase.startsWith(n)&&i.push(menu_list[t]);for(t in menu_list)menu_list[t].ValueLowerCase.indexOf(n)>0&&i.indexOf(menu_list[t])==-1&&i.push(menu_list[t])}return i}function punctuationToChinese(n){var r,u,t,i;for(n=n.replace(/,/ig,"，"),n=n.replace(/;/ig,"；"),n=n.replace(/:/ig,"："),n=n.replace(/\?/ig,"？"),n=n.replace(/!/ig,"！"),t=n.split(""),i=0;i<t.length;i++)t[i]=="'"||t[i]=="‘"||t[i]=="’"?u?(t[i]="’",u=!1):(t[i]="‘",u=!0):(t[i]=='"'||t[i]=="“"||t[i]=="”")&&(r?(t[i]="”",r=!1):(t[i]="“",r=!0)),t[i]=="."&&i>=1&&(i>=t.length-1?t[i]="。":t[i+1].match(/[\u4e00-\u9fa5]/g)&&(t[i]="。"));return t.join("",t)}function trimLineRightSpace(n){for(var u=n.replace(/\r\n/g,"\n").replace(/\n/g,"@@~~@@"),i=u.split("@@~~@@"),r=[],t=0;t<i.length;t++)r.push(i[t].replace(/(\s*$)/g,""));return r.join("\r\n")}function beautifyPargraph(n){for(var u=n.replace(/\r\n/g,"\n").replace(/\n/g,"@@~~@@"),i=u.split("@@~~@@"),r=[],t=0;t<i.length;t++)r.push("　　"+i[t].replace(/(^\s*)|(\s*$)/g,""));return r.join("\r\n")}function handleFileOnDrop(n,t){console.log("handleFileOnDrop");n.preventDefault();var i=n.dataTransfer;t(i);$("#divDragDrop").hide()}function handleFileOnDragOver(n,t,i){var r,u;console.log("handleFileOnDragOver");i||(i=getTextByLanguage("图片"));r=getTextByLanguage("释放鼠标上传");$("#divDragDrop").length>0?$("#divDragDrop").show():(u=`<div id="divDragDrop" class="row">
                    <div class="col-sm-12">
                        <div class="alert alert-success fade show" role="alert">
                            ${r}${i}
                        </div>
                    </div>
                </div>`,$("#"+t).after(u));n.preventDefault()}function handleFileOnDragLeave(){console.log("handleFileOnDragLeave")}function formatJsonToOneLine(n){for(var t,u=n.split("\n").join(" "),f=[],i=!1,r=0,e=u.length;r<e;r++)t=u.charAt(r),i&&t===i?u.charAt(r-1)!=="\\"&&(i=!1):i||t!=='"'&&t!=="'"?i||t!==" "&&t!=="\t"||(t=""):i=t,f.push(t);return f.join("")}function goToLineForCodeMirrorEditor(n,t){var i=n.getLineHandle(t);i?n.scrollIntoView({line:t-1},100):console.error("Line number "+t+" does not exist.")}function codeMirrorFoldOrUnfoldAll(n){var t=$(n).html().trim();t==getTextByLanguage("展开")?(editor.execCommand("unfoldAll"),t=getTextByLanguage("折叠")):(t=getTextByLanguage("展开"),editor.execCommand("foldAll"));$(n).html(t)}function codeMirrorFullScreen(){editor.setOption("fullScreen",!0);hideNavigate()}function codeMirrorCopy(){ys.copyToClipboardToast(editor.getValue())}function codeMirrorClear(){typeof saveConfig=="function"?saveConfig(""):editor.setValue("")}function swapTextValue(n,t){var i=$("#"+n).val(),r=$("#"+t).val();$("#"+t).val(i);$("#"+n).val(r);updateWordCountForTextarea($("#"+t));updateWordCountForTextarea($("#"+n))}function getShareLink(n){var r=window.location.href,t,u,f;r=ys.trimEnd(r,"#");t=ys.queryStringToJSON(r);u="form";t.tab&&!ys.isNullOrEmpty(t.tab)&&(u=t.tab);f=null;f=n?n:$("#"+u).getWebControls();$.extend(t,f);delete t.result;delete t.result1;delete t.result2;var e=ys.jsonToQueryString(t,!0),o=ys.getURLWithoutQueryString(),i=o;return ys.isNullOrEmpty(e)||(i+="?"+e),i.length>8e3&&(i=ys.getURLWithoutQueryString()),i}function initShareLinkParam(n,t){var e=window.location.href,i=ys.queryStringToJSON(e,!0),u=!1,f,r;if(i){if(t)for(f=t.split(","),r=0;r<f.length;r++)i[f[r]]&&!ys.isNullOrEmpty(i[f[r]])&&(u=!0);u||i.input&&!ys.isNullOrEmpty(i.input)&&(u=!0)}u&&ys.setConfig(n,JSON.stringify(i))}function getEditorMinHeight(n){return n=Math.round(n),Math.max(500,n)}function addCopyButtonForTextareas(){var n=document.querySelectorAll("textarea");n.forEach(function(n){if((!n.parentElement.className||!(n.parentElement.className.indexOf("input-group")>=0))&&(!n.nextSibling||!n.nextSibling.className||!(n.nextSibling.className.indexOf("CodeMirror ")>=0))&&!(n.className.indexOf("no-copy")>=0)){addCopyButtonForTextarea(n);addWordCountForTextarea(n);var t=n.parentElement.parentElement;t.className.indexOf("CodeMirror ")==-1&&$(n).parent().addClass("position-relative ")}})}function addCopyButtonForTextarea(n){var i="",r="",u=!1,t=null,f=n.parentElement.parentElement;f.className.indexOf("CodeMirror ")>=0?(r=f.previousSibling.id,t=f,u=!0):(r=n.id,t=n);i+=r+"Copy";$(t).mouseover(function(){var n,f;$("#"+i).length==0&&(n=document.createElement("span"),n.id=i,n.className="badge bg-theme-color cursor-pointer",n.textContent=getTextByLanguage("复制"),f=document.createElement("div"),f.className="copy-button",f.appendChild(n),u?t.appendChild(f):t.parentNode.insertBefore(f,t.nextSibling),n.addEventListener("click",function(){var n="",i;if(u?(i=getCodeMirrorEditor(r),i&&(n=i.getValue())):n=$(t).val(),ys.isNullOrEmpty(n)){ys.toastError(getTextByLanguage("复制的内容不能为空"));return}ys.copyToClipboard(n).then(()=>{this.textContent=getTextByLanguage("复制成功")}).catch(n=>{this.textContent=getTextByLanguage("复制失败："+n)})}));$("#"+i).html(getTextByLanguage("复制"));$("#"+i).show()});$(t).mouseout(function(){$("#"+i+":hover").length==0&&$("#"+i).hide()})}function addWordCountForTextarea(n){var o="",u=0,s=!1,t=null,f=n.parentElement.parentElement,e,r,i;if(f.className.indexOf("CodeMirror ")>=0?(o=f.previousSibling.id,e=getCodeMirrorEditor(o),e&&(u=e.getValue().length),t=f,s=!0):(u=$(n).val().length,t=n),r=document.createElement("span"),r.className="text-muted small-font",r.textContent=u.toString(),i=document.createElement("div"),i.className="word-count ",i.appendChild(r),s)t.appendChild(i);else{t.parentNode.insertBefore(i,t.nextSibling);$(t).on("keyup",function(){updateWordCountForTextarea(this)})}}function updateWordCountForTextarea(n){var t=$(n).val().length;$(n).parent().find(".word-count").children().html(t.toString())}function updateWordCountForTextareaCodeMirror(n,t){$(n).parent().find(".word-count").children().html(t.toString())}function getCodeMirrorEditor(n){for(var t=0;t<codeMirrorTextAreaMap.length;t++)if(codeMirrorTextAreaMap[t][n])return codeMirrorTextAreaMap[t][n];return null}function updateTextareaValue(n,t){$("#"+n).val(t);updateWordCountForTextarea($("#"+n))}function resetLocalStorageConfig(n){localStorage.removeItem(n);location.reload()}function uploadFileBind(n,t,i){var r=document.getElementById(n);r.addEventListener("click",function(){var n=$("#"+t);n.trigger("click");n.on("change",function(n){n.preventDefault();i(this)})},!1)}var menu_list=[],config_search_menu_result=[];(function(n){let t=null;const i=()=>(document.documentElement.scrollTop||document.body.scrollTop)>300?n(".joe_action_item.scroll").addClass("active"):n(".joe_action_item.scroll").removeClass("active");i();n(document).on("scroll",()=>{clearTimeout(t),t=setTimeout(i,80)});n(".joe_action_item.scroll").on("click",()=>window.scrollTo({top:0,behavior:"smooth"}));n("#form").length&&n("#form").keypress(function(t){var i=t.which;if(i==13)return n("#btnSubmit").length?(n("#btnSubmit").click(),!1):!0});var r=ys.getConfig(nameOf(()=>config_search_menu_result));ys.isNullOrEmpty(r)||(config_search_menu_result=JSON.parse(r));setMenuTitle();sidebarMenuSelected()})(jQuery);const isChinese=function(n){return/[\u4e00-\u9fa5\u3002\uff1f\uff01\uff0c\u3001\uff1b\uff1a\u201c\u201d\u2018\u2019\uff08\uff09\u300a\u300b\u3008\u3009\u3010\u3011\u300e\u300f\u300c\u300d\ufe43\ufe44\u3014\u3015\u2026\u2014\uff5e\ufe4f\uffe5]/.test(n)},convertTextToUnicode=function(n,t){return Array.from(n).map(n=>!t||isChinese(n)?"\\u"+n.charCodeAt(0).toString(16).padStart(4,"0"):n).join("")},convertUnicodeToText=function(n){return n.replace(/\\u[0-9a-fA-F]{4}/g,n=>String.fromCharCode(parseInt(n.slice(2),16)))};